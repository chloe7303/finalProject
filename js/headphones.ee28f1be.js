(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["headphones"],{"0467":function(t,e,s){},1681:function(t,e,s){},"2fa4":function(t,e,s){"use strict";s("20f6");var i=s("80d2");e["a"]=Object(i["g"])("spacer","div","v-spacer")},5311:function(t,e,s){"use strict";var i=s("5607"),a=s("2b0e");e["a"]=a["a"].extend({name:"rippleable",directives:{ripple:i["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}})},8308:function(t,e,s){},8547:function(t,e,s){"use strict";var i=s("2b0e"),a=s("80d2");e["a"]=i["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:a["h"]}}})},"9d01":function(t,e,s){},a817:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",xl:"8"}},[s("v-sheet",{staticClass:"pa-8 pa-sm-10",attrs:{"min-height":"80vh",rounded:"lg"}},[s("h1",{staticClass:"font-weight-bold pb-6"},[t._v("計畫內容")]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-card",{staticClass:"mb-6",attrs:{"max-width":"100%",light:""}},[s("v-img",{attrs:{src:t.project.image,height:"400px"}}),s("v-card-title",[t._v(" "+t._s(t.project.title)+" ")]),s("v-card-subtitle",{staticClass:"subtitle-1 black--text"},[t._v(" "+t._s(t.project.subtitle)+" ")]),s("v-card-text",[t._v(" "+t._s(t.project.description)+" ")])],1),s("v-card",[s("v-system-bar",{attrs:{color:"blue-grey"}}),s("v-toolbar",{attrs:{flat:""}},[s("v-toolbar-title",{staticClass:"font-weight-bold"},[t._v("留言板")]),s("v-spacer"),s("div",[t.user.id?s("v-switch",{staticClass:"font-weight-bold",attrs:{label:"新增留言","hide-details":"",color:"blue-grey"},model:{value:t.showMsg,callback:function(e){t.showMsg=e},expression:"showMsg"}}):s("v-switch",{staticClass:"mt-4",attrs:{disabled:"",label:"新增留言請登入"}})],1)],1),s("v-banner",{attrs:{"single-line":""},model:{value:t.showMsg,callback:function(e){t.showMsg=e},expression:"showMsg"}},[s("v-row",{attrs:{align:"center"}},[s("v-col",{attrs:{cols:"10"}},[s("v-textarea",{attrs:{rows:"1",placeholder:"請輸入內容...","prepend-icon":"mdi-comment",color:"blue-grey"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-btn",{attrs:{color:"amber",small:""},on:{click:t.addMsg}},[s("h4",{staticClass:"blue-grey--text text--darken-2"},[t._v("送出")])])],1)],1)],1),s("v-sheet",t._l(t.reversedMsg,(function(e,i){return s("v-card",{key:e._id,staticClass:"mx-auto",attrs:{"max-width":"100%",outlined:""}},[s("v-list-item",[s("v-list-item-content",[s("div",{staticClass:"overline"},[t._v(" "+t._s(e.user.account)+" ")]),s("v-list-item-title",{staticClass:"mb-1"},[t._v(" "+t._s(e.message)+" ")]),s("v-list-item-subtitle",[t._v(" "+t._s(new Date(e.date).toLocaleString())+" ")])],1),t.user.id===e.user._id?s("v-btn",{staticClass:"ma-2",attrs:{text:"",large:"",color:"red"},on:{click:function(s){return t.delMsg(e,i)}}},[s("v-icon",[t._v("mdi-trash-can")])],1):t._e()],1)],1)})),1)],1)],1),s("v-col",{staticClass:"mt-8",attrs:{cols:"12",md:"4"}},[s("div",{staticClass:"mb-16"},[s("h1",{staticClass:"mb-2"},[t._v(t._s(t.project.title))]),s("h3",[t._v(t._s(t.project.subtitle))])]),s("div",{staticClass:"mb-12"},[s("h3",[t._v("提案人： "+t._s(t.project.proposer))]),s("h3",[t._v("目標金額： $ "+t._s((new Intl.NumberFormat).format(t.project.targetAmount)))]),s("h3",{staticClass:"mb-4"},[t._v("已募資金額： $ "+t._s((new Intl.NumberFormat).format(t.project.raisedAmount)))]),s("v-progress-linear",{attrs:{value:t.progress,color:"amber",height:"20"}},[s("strong",{staticClass:"blue-grey--text text--darken-2"},[t._v(t._s(Math.ceil(t.progress))+"%")])])],1),s("h3",{staticClass:"mb-2"},[t._v("募資時間："+t._s(new Date(t.project.begin).toLocaleDateString())+" ~ "+t._s(new Date(t.project.finish).toLocaleDateString()))]),s("div",[s("v-btn",{staticClass:"mr-4",attrs:{color:"amber","x-large":"",to:"/payment/"+t.project._id,disabled:t.project.raisedAmount>=t.project.targetAmount}},[s("h2",{staticClass:"blue-grey--text text--darken-2"},[t._v("贊助專案")])]),t.favorite?s("v-btn",{attrs:{outlined:"",color:"red","x-large":""},on:{click:t.delWishlist}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-heart-outline")]),s("h2",{staticClass:"red--text"},[t._v("取消收藏")])],1):s("v-btn",{attrs:{outlined:"",color:"red","x-large":""},on:{click:t.addWishlist}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-heart")]),s("h2",{staticClass:"red--text"},[t._v("收藏專案")])],1),s("v-snackbar",{attrs:{right:"",top:"",timeout:"1500",color:"red"},model:{value:t.addSnackbar.show,callback:function(e){t.$set(t.addSnackbar,"show",e)},expression:"addSnackbar.show"}},[t._v(" "+t._s(t.addSnackbar.message)+" ")]),s("v-snackbar",{attrs:{right:"",top:"",timeout:"1500",color:"red"},model:{value:t.delSnackbar.show,callback:function(e){t.$set(t.delSnackbar,"show",e)},expression:"delSnackbar.show"}},[t._v(" "+t._s(t.delSnackbar.message)+" ")])],1)])],1)],1)],1)],1)],1)},a=[],o=(s("99af"),s("c740"),s("fb6a"),s("45fc"),s("a434"),s("96cf"),s("1da1")),n={name:"Headphones",data:function(){return{project:{},wishlists:[],showMsg:!1,msgBoard:[],message:"",favorite:"",addSnackbar:{show:!1,message:"加入收藏清單！"},delSnackbar:{show:!1,message:"取消收藏"}}},computed:{user:function(){return this.$store.state.user},progress:function(){var t=this.project.raisedAmount/this.project.targetAmount*100;return t},reversedMsg:function(){return this.msgBoard.slice().reverse()}},methods:{addWishlist:function(){var t=this;this.user.id?this.axios.patch("".concat("https://myfinalproject2021.herokuapp.com","/users/wishlists/").concat(this.user.id,"/").concat(this.project._id)).then((function(e){e.data.success?(t.wishlists=e.data.wishlists,t.favorite=!0,t.addSnackbar.show=!0):t.$swal({icon:"error",title:e.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(e){t.$swal({icon:"error",title:e.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})):this.$swal({icon:"warning",iconColor:"#FFC107",title:"請先登入",confirmButtonColor:"#607D8B",confirmButtonText:"確定"})},delWishlist:function(){var t=this;this.axios.patch("".concat("https://myfinalproject2021.herokuapp.com","/users/delwishlists/").concat(this.user.id,"/").concat(this.project._id)).then((function(e){e.data.success?(t.wishlists=e.data.wishlists,t.favorite=!1,t.delSnackbar.show=!0):t.$swal({icon:"error",title:e.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(e){t.$swal({icon:"error",title:e.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})}))},addMsg:function(){var t=this;this.message&&this.axios.patch("".concat("https://myfinalproject2021.herokuapp.com","/projects/msgBoard/").concat(this.$route.params.id,"/").concat(this.user.id),{message:this.message}).then((function(e){e.data.success?(t.msgBoard=e.data.msgBoard,t.message=""):t.$swal({icon:"error",title:e.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(e){t.$swal({icon:"error",title:e.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"}),console.log(e)}))},delMsg:function(t,e){var s=this;this.axios.patch("".concat("https://myfinalproject2021.herokuapp.com","/users/msgboard/").concat(this.user.id,"/").concat(t._id)).then((function(e){if(e.data.success){var i=s.msgBoard.findIndex((function(e){return e._id===t._id}));s.msgBoard.splice(i,1)}else s.$swal({icon:"error",title:e.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(t){console.log(t),s.$swal({icon:"error",title:t.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})}))}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.id){e.next=11;break}return e.next=3,t.axios.get("".concat("https://myfinalproject2021.herokuapp.com","/projects?id=").concat(t.$route.params.id));case 3:if(s=e.sent,!s.data.success){e.next=10;break}return t.project=s.data.result[0],t.project.image="".concat("https://myfinalproject2021.herokuapp.com","/projects/image/").concat(t.project.image),e.abrupt("return");case 10:t.$swal({icon:"error",title:s.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"});case 11:return e.prev=11,e.next=14,t.axios.get("".concat("https://myfinalproject2021.herokuapp.com","/users/wishlists/").concat(t.user.id));case 14:return i=e.sent,i.data.success?t.wishlists=i.data.wishlists:t.$swal({icon:"error",title:i.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"}),e.next=18,t.axios.get("".concat("https://myfinalproject2021.herokuapp.com","/projects?id=").concat(t.$route.params.id));case 18:return i=e.sent,i.data.success?(t.project=i.data.result[0],t.project.image="".concat("https://myfinalproject2021.herokuapp.com","/projects/image/").concat(t.project.image),t.favorite=t.wishlists.some((function(e){return e.project._id===t.project._id}))):t.$swal({icon:"error",title:i.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"}),e.next=22,t.axios.get("".concat("https://myfinalproject2021.herokuapp.com","/projects/msgBoard/").concat(t.$route.params.id));case 22:i=e.sent,i.data.success?t.msgBoard=i.data.msgBoard:t.$swal({icon:"error",title:i.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"}),e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](11),t.$swal({icon:"error",title:e.t0.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"});case 29:case"end":return e.stop()}}),e,null,[[11,26]])})))()}},r=n,c=s("2877"),l=s("6544"),u=s.n(l),h=s("5530"),d=(s("0467"),s("10d2")),p=s("713a"),m=s("9d26"),v=s("0789"),f=s("e4cd"),g=s("f2e7"),b=s("58df"),w=s("80d2"),C=Object(b["a"])(d["a"],f["a"],g["a"]).extend({name:"v-banner",inheritAttrs:!1,props:{app:Boolean,icon:String,iconColor:String,singleLine:Boolean,sticky:Boolean,value:{type:Boolean,default:!0}},computed:{classes:function(){return Object(h["a"])(Object(h["a"])({},d["a"].options.computed.classes.call(this)),{},{"v-banner--has-icon":this.hasIcon,"v-banner--is-mobile":this.isMobile,"v-banner--single-line":this.singleLine,"v-banner--sticky":this.isSticky})},hasIcon:function(){return Boolean(this.icon||this.$slots.icon)},isSticky:function(){return this.sticky||this.app},styles:function(){var t=Object(h["a"])({},d["a"].options.computed.styles.call(this));if(this.isSticky){var e=this.app?this.$vuetify.application.bar+this.$vuetify.application.top:0;t.top=Object(w["e"])(e),t.position="sticky",t.zIndex=1}return t}},methods:{toggle:function(){this.isActive=!this.isActive},iconClick:function(t){this.$emit("click:icon",t)},genIcon:function(){var t;if(this.hasIcon)return t=this.icon?this.$createElement(m["a"],{props:{color:this.iconColor,size:28}},[this.icon]):this.$slots.icon,this.$createElement(p["a"],{staticClass:"v-banner__icon",props:{color:this.color,size:40},on:{click:this.iconClick}},[t])},genText:function(){return this.$createElement("div",{staticClass:"v-banner__text"},this.$slots.default)},genActions:function(){var t=this,e=Object(w["l"])(this,"actions",{dismiss:function(){return t.isActive=!1}});if(e)return this.$createElement("div",{staticClass:"v-banner__actions"},e)},genContent:function(){return this.$createElement("div",{staticClass:"v-banner__content"},[this.genIcon(),this.genText()])},genWrapper:function(){return this.$createElement("div",{staticClass:"v-banner__wrapper"},[this.genContent(),this.genActions()])}},render:function(t){return t(v["a"],[t("div",this.setBackgroundColor(this.color,{staticClass:"v-banner",attrs:this.attrs$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]}),[this.genWrapper()])])}}),x=s("8336"),k=s("b0af"),y=s("99d9"),_=s("62ad"),B=s("a523"),j=s("132d"),$=s("adda"),S=s("da13"),V=s("5d23"),I=s("8e36"),D=s("0fd9"),A=s("8dd9"),O=s("2db4"),T=s("2fa4"),M=(s("0481"),s("4069"),s("ec29"),s("9d01"),s("fe09")),H=s("c37a"),E=s("c3f0"),L=s("490a"),z=M["a"].extend({name:"v-switch",directives:{Touch:E["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(h["a"])(Object(h["a"])({},H["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(h["a"])(Object(h["a"])({},this.attrs),this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(h["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(h["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(v["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(L["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===w["o"].left&&this.isActive||t.keyCode===w["o"].right&&!this.isActive)&&this.onChange()}}}),F=(s("a9e3"),s("c7cd"),s("8308"),s("3a66")),N=s("a9ad"),R=s("7560"),G=Object(b["a"])(Object(F["a"])("bar",["height","window"]),N["a"],R["a"]).extend({name:"v-system-bar",props:{height:[Number,String],lightsOut:Boolean,window:Boolean},computed:{classes:function(){return Object(h["a"])({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?isNaN(parseInt(this.height))?this.height:parseInt(this.height):this.window?32:24},styles:function(){return{height:Object(w["e"])(this.computedHeight)}}},methods:{updateApplication:function(){return this.$el?this.$el.clientHeight:this.computedHeight}},render:function(t){var e={staticClass:"v-system-bar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),Object(w["l"])(this))}}),W=s("a844"),P=s("71d9"),K=Object(w["g"])("v-toolbar__title"),J=Object(w["g"])("v-toolbar__items"),q=(P["a"],Object(c["a"])(r,i,a,!1,null,null,null));e["default"]=q.exports;u()(q,{VBanner:C,VBtn:x["a"],VCard:k["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCardTitle:y["d"],VCol:_["a"],VContainer:B["a"],VIcon:j["a"],VImg:$["a"],VListItem:S["a"],VListItemContent:V["a"],VListItemSubtitle:V["b"],VListItemTitle:V["c"],VProgressLinear:I["a"],VRow:D["a"],VSheet:A["a"],VSnackbar:O["a"],VSpacer:T["a"],VSwitch:z,VSystemBar:G,VTextarea:W["a"],VToolbar:P["a"],VToolbarTitle:K})},a844:function(t,e,s){"use strict";s("a9e3");var i=s("5530"),a=(s("1681"),s("8654")),o=s("58df"),n=Object(o["a"])(a["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},a["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"}},genInput:function(){var t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ec29:function(t,e,s){},fe09:function(t,e,s){"use strict";s.d(e,"b",(function(){return r}));s("4de4"),s("45fc"),s("d3b7"),s("25f0");var i=s("c37a"),a=s("5311"),o=s("8547"),n=s("58df");function r(t){t.preventDefault()}e["a"]=Object(n["a"])(i["a"],a["a"],o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,s=this.internalValue;return this.isMultiple?!!Array.isArray(s)&&s.some((function(s){return t.valueComparator(s,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,s):Boolean(s):this.valueComparator(s,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=i["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:r},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:r},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,s=this.internalValue;if(this.isMultiple){Array.isArray(s)||(s=[]);var i=s.length;s=s.filter((function(s){return!t.valueComparator(s,e)})),s.length===i&&s.push(e)}else s=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(s,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(s,e)?null:e:!s;this.validate(!0,s),this.internalValue=s,this.hasColor=s}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})}}]);
//# sourceMappingURL=headphones.ee28f1be.js.map
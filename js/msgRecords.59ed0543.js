(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["msgRecords"],{"3c13":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"msgRecords"}},[e("h1",{staticClass:"font-weight-bold mb-6"},[t._v("留言紀錄")]),e("h3",{staticClass:"font-weight-bold mb-2"},[t._v("共 "+t._s(t.msgBoards.length)+" 筆資料")]),t._l(t.msgBoards,(function(s,a){return e("v-card",{key:s.msgBoard._id,staticClass:"mb-5",attrs:{"max-width":"100%",outlined:""}},[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",{staticClass:"headline mb-3"},[t._v(" "+t._s(s.title)+" ")]),e("v-list-item-subtitle",{staticClass:"subtitle-1 amber--text mb-2"},[t._v("留言內容："+t._s(s.msgBoard.message))]),e("div",{staticClass:"d-flex"},[e("v-list-item-subtitle",{staticClass:"subtitle-1 d-inline"},[t._v("留言時間："+t._s(new Date(s.msgBoard.date).toLocaleString()))]),e("v-card-actions",{staticClass:"mt-n8"},[e("v-btn",{staticClass:"ml-2 px-3",attrs:{color:"blue-grey",rounded:"",large:"",to:"/projects/"+s._id}},[t._v(" 進入計畫 ")]),e("v-btn",{staticClass:"ml-3 px-3 font-weight-bold",attrs:{color:"red",rounded:"",outlined:"",large:""},on:{click:function(e){return t.del(s,a)}}},[t._v("刪除留言")])],1)],1)],1)],1)],1)}))],2)},o=[],i=(e("99af"),e("a434"),{name:"MsgRecords",data:function(){return{msgBoards:[]}},computed:{user:function(){return this.$store.state.user}},methods:{del:function(t,s){var e=this;this.axios.patch("".concat("https://myfinalproject2021.herokuapp.com","/users/msgboard/").concat(this.user.id,"/").concat(t.msgBoard._id)).then((function(t){t.data.success?e.msgBoards.splice(s,1):e.$swal({icon:"error",title:t.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(t){e.$swal({icon:"error",title:t.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})}))}},mounted:function(){var t=this;this.axios.get("".concat("https://myfinalproject2021.herokuapp.com","/users/msgboard/").concat(this.user.id)).then((function(s){s.data.success?t.msgBoards=s.data.result:t.$swal({icon:"error",title:s.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})})).catch((function(s){t.$swal({icon:"error",title:s.response.data.message,confirmButtonColor:"#607D8B",confirmButtonText:"確定"})}))}}),n=i,r=e("2877"),c=e("6544"),l=e.n(c),d=e("8336"),m=e("b0af"),u=e("99d9"),f=e("da13"),g=e("5d23"),h=Object(r["a"])(n,a,o,!1,null,null,null);s["default"]=h.exports;l()(h,{VBtn:d["a"],VCard:m["a"],VCardActions:u["a"],VListItem:f["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"]})}}]);
//# sourceMappingURL=msgRecords.59ed0543.js.map